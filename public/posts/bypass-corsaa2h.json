{"date":1599674802,"cats":[0,15,19],"content":"<p>Hello everyone,</p>\n<p>I had strugguled a lot with this issue and I had found my way to solve it,&nbsp;</p>\n<p>I found there is a change bettween using fetch and xhr, as well there is a difference between firefox and other chromumim based browsers&nbsp;</p>\n<p>today I am posting my solution for this very wide issue.</p><h3>The method</h3>\n\n<pre><code>    this.get = async (urlstring, path, parameters, response) =&gt; {\n        let firefox = navigator.userAgent.search(\"Firefox\") &gt; -1? true: false;\n        let url = new URL(urlstring + path);\n        url.search = new URLSearchParams(parameters).toString();\n        let data = undefined;\n        if(firefox)\n        {\n            data = await this.xhr(\"GET\", url);\n            if(data.status === 200) return data;\n            else {\n                await new Promise(r =&gt; setTimeout(r, 1000));\n                data = await this.xhr(\"GET\", url);\n                if(data.status === 200)return data;\n            }\n        }\n        let req = await fetch(this.proxy + url, { redirect: 'follow', referrerPolicy: 'no-referrer' });\n        data = await req.text()\n        return data;\n    }</code></pre>\n\n<br><h3>How to use it</h3><pre><code>        return await this.get(this.host, '/player_api.php', { username: this.username, password: this.password, action: 'get_live_categories' }, response =&gt; response.body())\n</code></pre>\n\n<br>Currently I am not using the response function I am sending, but may be latter we can use it.<p>for the proxy the best value is&nbsp;</p>\n\n<pre><code> let proxy = \"https://cors-anywhere.herokuapp.com/\";</code></pre>\n<p><br></p><p>Best Regards</p><p><br></p>","title":"Bypass cors ","slug":"bypass-corsaa2h"}
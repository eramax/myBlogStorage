{"date":1627642425,"cats":[0,8,9,14,51],"content":"<h1>Request the Access Token</h1><p>authentication used the OAuth2 protocol, and this means that we have to obtain a token in order to authenticate all subsequent request. We need to use the<span>&nbsp;</span><a href=\"https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/\" rel=\"noopener nofollow\">client_credential<span>&nbsp;</span></a>flow:</p><pre><code>curl -X POST -d 'grant_type=client_credentials&amp;client_id=[APP_ID]&amp;client_secret=[PASSWORD]&amp;resource=https%3A%2F%2Fmanagement.azure.com%2F' https://login.microsoftonline.com/[TENANT_ID]/oauth2/token</code></pre><p>\nCall Azure REST API\nThe obtained token that needs to be used in the Authorization HTTP header as the Bearer Token to make sure your HTTP call will be authorized:</p><pre><code>curl -X GET https://addd.queue.core.windows.net/queuename/messages \\\n-H \"Authorization: Bearer $token\" \\\n-H \"x-ms-date: $(TZ=GMT date \"+%a, %d %h %Y %H:%M:%S %Z\")\" \\\n-H \"x-ms-version:2020-04-08\"</code></pre><p>Another way is to generate token by az command</p>\n<pre><code>az account get-access-token --resource https://addd.queue.core.windows.net/\n</code></pre>\n<p>Sample example</p><p><a href=\"https://docs.microsoft.com/en-us/rest/api/servicebus/get-azure-active-directory-token\">https://docs.microsoft.com/en-us/rest/api/servicebus/get-azure-active-directory-token</a></p><p><br></p>","title":"Calling Azure REST API via curl","slug":"calling-azure-rest-api-via-curl-xbdv"}
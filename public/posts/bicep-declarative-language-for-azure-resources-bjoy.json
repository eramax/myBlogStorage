{"date":1626471509,"cats":[0,1,5,6,7,8,9,51],"content":"<p>Bicep is a Domain Specific Language (DSL) for deploying Azure resources declaratively. It aims to drastically simplify the authoring experience with a cleaner syntax, improved type safety, and better support for modularity and code re-use. Bicep is a<span>&nbsp;</span><strong>transparent abstraction</strong><span>&nbsp;</span>over ARM and ARM templates, which means anything that can be done in an ARM Template can be done in Bicep (outside of temporary<span>&nbsp;</span><a href=\"https://github.com/Azure/bicep#known-limitations\">known limitations</a>). All resource<span>&nbsp;</span><code>types</code>,<span>&nbsp;</span><code>apiVersions</code>, and<span>&nbsp;</span><code>properties</code><span>&nbsp;</span>that are valid in an ARM template are equally valid in Bicep on day one (Note: even if Bicep warns that type information is not available for a resource, it can still be deployed).</p>\n<p><br><iframe width=\"400\" height=\"345\" src=\"https://www.youtube.com/embed/WqhqodeGCuw\" frameborder=\"0\" allowfullscreen=\"\"><br></iframe></p>\n<p><br></p>\n<p><strong>Example</strong></p>\n<p><strong><br></strong></p>\n<p>main.bicep</p>\n<pre><code>param location string = resourceGroup().location\nparam storageAccountName string = 'uniquestorage0021' // must be globally unique\nparam websitename string = 'web11'\n\nresource stg 'Microsoft.Storage/storageAccounts@2021-04-01' = {\n  name: storageAccountName\n  location: location\n  kind: 'StorageV2'\n  sku:{\n    name:'Standard_LRS'\n  }\n}\n\nresource website 'Microsoft.Web/sites@2021-01-15'={\n  name: '${websitename}${uniqueString(subscription().id)}'\n  location: location\n  properties:{\n    siteConfig:{\n      appSettings:[\n        {\n          name: 'connectionstring'\n          value: 'DefaultEndpointsProtocol=https;AccountName=${storageAccountName};AccountKey=${listKeys(stg.id, stg.apiVersion).keys[1].value}'\n        }\n      ]\n    }\n  }  \n}\n\noutput endpoint string = stg.properties.primaryEndpoints.blob\n</code></pre>\n\n<p>Deploy the file with</p>\n\n<pre><code>az group create --name test-bicep --location eastus\n\naz deployment group create --template-file ./main.bicep --resource-group test-bicep\n</code></pre>\n\n<p>Result&nbsp;</p><p><img src=\"https://raw.githubusercontent.com/eramax/myBlogStorage/master/public/uploads/2021/6/1626471509l80i7.png\" style=\"width: 1024px; height: 123px;\"></p><p><img src=\"https://raw.githubusercontent.com/eramax/myBlogStorage/master/public/uploads/2021/6/1626471509agf6g.png\" style=\"width: 1117px; height: 510px;\"></p><p><br></p>\n<p><br></p>","title":"Bicep declarative language for Azure resources","slug":"bicep-declarative-language-for-azure-resources-bjoy"}
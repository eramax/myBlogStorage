{"date":1678288351,"cats":[0,14,53],"content":"<pre><code>\n# Remove telegram groups\n# python3 -m pip install --upgrade telethon\nfrom telethon import TelegramClient, sync\n# get an Id from https://my.telegram.org/apps\napi_id = 111111111111\napi_hash = 'xxxxxxxxxxxxx'\n# List all the group names you want to keep, the script will delete other groups.\nexcluded_groups = ['gp1','gp2']\n\nclass TelegramAPIs(object):\n    def init_client(self, session_name, api_id, api_hash):\n        self.client = TelegramClient(session_name, api_id, api_hash)\n        self.client.start()\n\n    def close_client(self):\n        if self.client.is_connected():\n            self.client.disconnect()\n\n    def clean(self):\n        for dialog in self.client.get_dialogs():\n            if hasattr(dialog.entity, \"title\") and dialog.entity.title not in excluded_groups:\n                print('----- deleting ', dialog.entity.title)\n                self.client.delete_dialog(dialog.entity)\n\nta = TelegramAPIs()\nta.init_client(session_name='session_name', api_id=api_id, api_hash=api_hash)\nta.clean()\nta.close_client()\n</code></pre>","title":" Remove telegram groups","slug":"remove-telegram-groups-n8cv"}
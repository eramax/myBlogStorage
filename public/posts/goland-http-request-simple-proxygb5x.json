{"date":1598384867,"cats":[0,4,15,20],"content":"<p>I have created a simple http proxy with golang</p>\n\n<pre><code>package main\n\nimport (\n\t\"fmt\"\n\t\"io/ioutil\"\n\t\"log\"\n\t\"net/http\"\n)\n\nfunc main() {\n\tlog.Println(\"Go Proxy started on port 3000\")\n\thttp.HandleFunc(\"/\", HelloServer)\n\thttp.ListenAndServe(\":3000\", nil)\n}\n\nfunc HelloServer(w http.ResponseWriter, r *http.Request) {\n\n\tkeys, ok := r.URL.Query()[\"url\"]\n\n\tif !ok || len(keys[0]) &lt; 1 {\n\t\tfmt.Fprintf(w, \"Bad Request\")\n\t}\n\n\turl := keys[0]\n\tbody, ok2 := fetch(url)\n\tif ok2 {\n\t\tfmt.Fprintf(w, body)\n\t} else {\n\t\tfmt.Fprintf(w, \"Bad Request\")\n\t}\n}\n\nfunc fetch(url string) (string, bool) {\n\tlog.Printf(\"Fetch %s.\", url)\n\tresp, err := http.Get(url)\n\tif err != nil {\n\t\treturn \"\", false\n\t}\n\tdefer resp.Body.Close()\n\tbody, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\treturn \"\", false\n\t}\n\treturn string(body), true\n}\n</code></pre>\n<p><br></p><p><br></p>","title":"Goland http request simple proxy","slug":"goland-http-request-simple-proxygb5x"}